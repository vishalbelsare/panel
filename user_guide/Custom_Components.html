
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Custom Components — Panel 0.12.0 documentation</title>
<link href="../_static/css/theme.css" rel="stylesheet"/>
<link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet"/>
<link href="../_static/vendor/fontawesome/5.13.0/css/all.min.css" rel="stylesheet"/>
<link as="font" crossorigin="" href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="" href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css">
<link href="../_static/basic.css" rel="stylesheet" type="text/css">
<link href="../_static/togglebutton.css" rel="stylesheet" type="text/css">
<link href="../_static/mystnb.css" rel="stylesheet" type="text/css"/>
<link href="../_static/graphviz.css" rel="stylesheet" type="text/css"/>
<link href="../_static/nbsite.css" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css" rel="stylesheet" type="text/css"/>
<link as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js" rel="preload"/>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/togglebutton.js"></script>
<script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
<link href="../_static/favicon.ico" rel="shortcut icon">
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="Async_and_Concurrency.html" rel="next" title="Async and Concurrency"/>
<link href="Server_Deployment.html" rel="prev" title="Server Deployment"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="en" name="docsearch:language"/>
</link></link></link></link></head>
<body data-offset="80" data-spy="scroll" data-target="#bd-toc-nav">
<div class="container-fluid" id="banner"></div>
<nav class="navbar navbar-dark navbar-expand-lg bg-dark fixed-top bd-navbar" id="navbar-main"><div class="container-xl">
<div id="navbar-start">
<a class="navbar-brand" href="../index.html">
<img alt="logo" class="logo" src="../_static/logo_horizontal.png"/>
</a>
</div>
<button aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-target="#navbar-collapsible" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="col-lg-9 collapse navbar-collapse" id="navbar-collapsible">
<div class="mr-auto" id="navbar-center">
<div class="navbar-center-item">
<ul class="navbar-nav" id="navbar-main-elements">
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../getting_started/index.html">
  Getting Started
 </a>
</li>
<li class="toctree-l1 current active nav-item">
<a class="reference internal nav-link" href="index.html">
  User Guide
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../gallery/index.html">
  Gallery
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../reference/index.html">
  Reference Gallery
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../developer_guide/index.html">
  Developers
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../api/index.html">
  API
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../releases.html">
  Releases
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../FAQ.html">
  FAQ
 </a>
</li>
<li class="toctree-l1 nav-item">
<a class="reference internal nav-link" href="../about/index.html">
  About
 </a>
</li>
</ul>
</div>
</div>
<div id="navbar-end">
<div class="navbar-end-item">
<ul aria-label="Icon Links" class="navbar-nav" id="navbar-icon-links">
<li class="nav-item">
<a class="nav-link" href="https://github.com/holoviz/panel" rel="noopener" target="_blank" title="GitHub">
<span><i class="fab fa-github-square"></i></span>
<label class="sr-only">GitHub</label>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://twitter.com/Panel_Org" rel="noopener" target="_blank" title="Twitter">
<span><i class="fab fa-twitter-square"></i></span>
<label class="sr-only">Twitter</label>
</a>
</li>
<li class="nav-item">
<a class="nav-link" href="https://discourse.holoviz.org/" rel="noopener" target="_blank" title="Discourse">
<span><i class="fab fa-discourse"></i></span>
<label class="sr-only">Discourse</label>
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</nav>
<div class="container-xl">
<div class="row">
<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="col-12 col-md-2 bd-sidebar"><form action="../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="icon fas fa-search"></i>
<input aria-label="Search the docs ..." autocomplete="off" class="form-control" id="search-input" name="q" placeholder="Search the docs ..." type="search"/>
</form><nav aria-label="Main navigation" class="bd-links" id="bd-docs-nav">
<div class="bd-toc-item active">
<ul class="current nav bd-sidenav">
<li class="toctree-l1">
<a class="reference internal" href="Overview.html">
   Overview
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Components.html">
   Components
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="APIs.html">
   APIs
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Customization.html">
   Customization
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Deploy_and_Export.html">
   Deploy &amp; Export
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Interact.html">
   Interact
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Widgets.html">
   Widgets
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Param.html">
   Parameters
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Links.html">
   Linking
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Pipelines.html">
   Pipelines
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Templates.html">
   Templates
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Server_Deployment.html">
   Server Deployment
  </a>
</li>
<li class="toctree-l1 current active">
<a class="current reference internal" href="#">
   Building Custom Components
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Async_and_Concurrency.html">
   Asynchronous and Concurrent Process
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Authentication.html">
   Authentication
  </a>
</li>
<li class="toctree-l1">
<a class="reference internal" href="Django_Apps.html">
   Django Apps
  </a>
</li>
</ul>
</div>
</nav>
</div>
<div class="d-none d-xl-block col-xl-2 bd-toc">
<div class="toc-item">
<div class="tocsection onthispage pt-5 pb-3">
<i class="fas fa-list"></i> On this page
</div>
<nav id="bd-toc-nav">
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#viewer-components">
   Viewer components
  </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#reactivehtml-components">
   ReactiveHTML components
  </a>
<ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#html-templates">
     HTML templates
    </a>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#children">
     Children
    </a>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#dom-events">
     DOM Events
    </a>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#scripts">
     Scripts
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#parameter-callbacks">
       Parameter callbacks
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#lifecycle-callbacks">
       Lifecycle callbacks
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#explicit-calls">
       Explicit calls
      </a>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#inline-callbacks">
     Inline callbacks
    </a>
</li>
<li class="toc-h3 nav-item toc-entry">
<a class="reference internal nav-link" href="#examples">
     Examples
    </a>
<ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#callbacks">
       Callbacks
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#child-templates">
       Child templates
      </a>
</li>
<li class="toc-h4 nav-item toc-entry">
<a class="reference internal nav-link" href="#pure-javascript-events">
       Pure Javascript events
      </a>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#external-dependencies">
   External dependencies
  </a>
</li>
<li class="toc-h2 nav-item toc-entry">
<a class="reference internal nav-link" href="#building-custom-bokeh-models">
   Building custom bokeh models
  </a>
</li>
</ul>
</nav>
</div>
<div class="toc-item">
</div>
<a href="https://mybinder.org/v2/gh/holoviz/panel/master?urlpath=lab/tree/examples/user_guide/Custom_Components">Open this example in Binder</a>
</div>
<main class="col-12 col-md-10 col-xl-8 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
<div>
<div class="section" id="custom-components">
<h1>Custom Components<a class="headerlink" href="#custom-components" title="Permalink to this headline">¶</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">param</span>
<span class="kn">import</span> <span class="nn">panel</span> <span class="k">as</span> <span class="nn">pn</span>

<span class="n">js_files</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'mdc'</span><span class="p">:</span> <span class="s1">'https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js'</span>
<span class="p">}</span>
    
<span class="n">css_files</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">'https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css'</span>
<span class="p">]</span>

<span class="n">pn</span><span class="o">.</span><span class="n">extension</span><span class="p">(</span><span class="n">js_files</span><span class="o">=</span><span class="n">js_files</span><span class="p">,</span> <span class="n">css_files</span><span class="o">=</span><span class="n">css_files</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/javascript">
(function(root) {
  function now() {
    return new Date();
  }

  var force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, js_modules, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];
    if (js_modules == null) js_modules = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls.length === 0 && js_modules.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length + js_modules.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error() {
      console.error("failed to load " + url);
    }

    for (var i = 0; i < css_urls.length; i++) {
      var url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error;
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    var skip = [];
    if (window.requirejs) {
      window.requirejs.config({'paths': {'material-components-web': 'https://unpkg.com/material-components-web@latest/dist/material-components-web.min'}, 'shim': {}});
      
      require(["material-components-web"], function(mdc) {
	window.mdc = mdc
      })
      
    }
    for (var i = 0; i < js_urls.length; i++) {
      var url = js_urls[i];
      if (skip.indexOf(url) >= 0) { on_load(); continue; }
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
    for (var i = 0; i < js_modules.length; i++) {
      var url = js_modules[i];
      if (skip.indexOf(url) >= 0) { on_load(); continue; }
      var element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error;
      element.async = false;
      element.src = url;
      element.type = "module";
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
    if (!js_urls.length && !js_modules.length) {
      on_load()
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  var js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-2.3.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.3.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.3.min.js", "https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js", "https://unpkg.com/@holoviz/panel@0.12.0/dist/panel.min.js"];
  var js_modules = [];
  var css_urls = ["https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css", "https://unpkg.com/@holoviz/panel@0.12.0/dist/css/markdown.css", "https://unpkg.com/@holoviz/panel@0.12.0/dist/css/json.css", "https://unpkg.com/@holoviz/panel@0.12.0/dist/css/loading.css", "https://unpkg.com/@holoviz/panel@0.12.0/dist/css/dataframe.css", "https://unpkg.com/@holoviz/panel@0.12.0/dist/css/card.css", "https://unpkg.com/@holoviz/panel@0.12.0/dist/css/alerts.css", "https://unpkg.com/@holoviz/panel@0.12.0/dist/css/widgets.css"];
  var inline_js = [
    function(Bokeh) {
      inject_raw_css("\n    .bk.pn-loading.arcs:before {\n      background-image: url(\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiBub25lOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIj4gIDxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjMyIiBzdHJva2Utd2lkdGg9IjgiIHN0cm9rZT0iI2MzYzNjMyIgc3Ryb2tlLWRhc2hhcnJheT0iNTAuMjY1NDgyNDU3NDM2NjkgNTAuMjY1NDgyNDU3NDM2NjkiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+ICAgIDxhbmltYXRlVHJhbnNmb3JtIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSIgdHlwZT0icm90YXRlIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgZHVyPSIxcyIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOzM2MCA1MCA1MCI+PC9hbmltYXRlVHJhbnNmb3JtPiAgPC9jaXJjbGU+PC9zdmc+\")\n    }\n    ");
    },
    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
    function(Bokeh) {} // ensure no trailing comma for IE
  ];

  function run_inline_js() {
    if ((root.Bokeh !== undefined) || (force === true)) {
      for (var i = 0; i < inline_js.length; i++) {
        inline_js[i].call(root, root.Bokeh);
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, js_modules, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script><script type="application/javascript">
if ((window.PyViz === undefined) || (window.PyViz instanceof HTMLElement)) {
  window.PyViz = {comms: {}, comm_status:{}, kernels:{}, receivers: {}, plot_index: []}
}


    function JupyterCommManager() {
    }

    JupyterCommManager.prototype.register_target = function(plot_id, comm_id, msg_handler) {
      if (window.comm_manager || ((window.Jupyter !== undefined) && (Jupyter.notebook.kernel != null))) {
        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;
        comm_manager.register_target(comm_id, function(comm) {
          comm.on_msg(msg_handler);
        });
      } else if ((plot_id in window.PyViz.kernels) && (window.PyViz.kernels[plot_id])) {
        window.PyViz.kernels[plot_id].registerCommTarget(comm_id, function(comm) {
          comm.onMsg = msg_handler;
        });
      } else if (typeof google != 'undefined' && google.colab.kernel != null) {
        google.colab.kernel.comms.registerTarget(comm_id, (comm) => {
          var messages = comm.messages[Symbol.asyncIterator]();
          function processIteratorResult(result) {
            var message = result.value;
            console.log(message)
            var content = {data: message.data, comm_id};
            var buffers = []
            for (var buffer of message.buffers || []) {
              buffers.push(new DataView(buffer))
            }
            var metadata = message.metadata || {};
            var msg = {content, buffers, metadata}
            msg_handler(msg);
            return messages.next().then(processIteratorResult);
          }
          return messages.next().then(processIteratorResult);
        })
      }
    }

    JupyterCommManager.prototype.get_client_comm = function(plot_id, comm_id, msg_handler) {
      if (comm_id in window.PyViz.comms) {
        return window.PyViz.comms[comm_id];
      } else if (window.comm_manager || ((window.Jupyter !== undefined) && (Jupyter.notebook.kernel != null))) {
        var comm_manager = window.comm_manager || Jupyter.notebook.kernel.comm_manager;
        var comm = comm_manager.new_comm(comm_id, {}, {}, {}, comm_id);
        if (msg_handler) {
          comm.on_msg(msg_handler);
        }
      } else if ((plot_id in window.PyViz.kernels) && (window.PyViz.kernels[plot_id])) {
        var comm = window.PyViz.kernels[plot_id].connectToComm(comm_id);
        comm.open();
        if (msg_handler) {
          comm.onMsg = msg_handler;
        }
      } else if (typeof google != 'undefined' && google.colab.kernel != null) {
        var comm_promise = google.colab.kernel.comms.open(comm_id)
        comm_promise.then((comm) => {
          window.PyViz.comms[comm_id] = comm;
          if (msg_handler) {
            var messages = comm.messages[Symbol.asyncIterator]();
            function processIteratorResult(result) {
              var message = result.value;
              var content = {data: message.data};
              var metadata = message.metadata || {comm_id};
              var msg = {content, metadata}
              msg_handler(msg);
              return messages.next().then(processIteratorResult);
            }
            return messages.next().then(processIteratorResult);
          }
        }) 
        var sendClosure = (data, metadata, buffers, disposeOnDone) => {
          return comm_promise.then((comm) => {
            comm.send(data, metadata, buffers, disposeOnDone);
          });
        };
        var comm = {
          send: sendClosure
        };
      }
      window.PyViz.comms[comm_id] = comm;
      return comm;
    }
    window.PyViz.comm_manager = new JupyterCommManager();
    


var JS_MIME_TYPE = 'application/javascript';
var HTML_MIME_TYPE = 'text/html';
var EXEC_MIME_TYPE = 'application/vnd.holoviews_exec.v0+json';
var CLASS_NAME = 'output';

/**
 * Render data to the DOM node
 */
function render(props, node) {
  var div = document.createElement("div");
  var script = document.createElement("script");
  node.appendChild(div);
  node.appendChild(script);
}

/**
 * Handle when a new output is added
 */
function handle_add_output(event, handle) {
  var output_area = handle.output_area;
  var output = handle.output;
  if ((output.data == undefined) || (!output.data.hasOwnProperty(EXEC_MIME_TYPE))) {
    return
  }
  var id = output.metadata[EXEC_MIME_TYPE]["id"];
  var toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);
  if (id !== undefined) {
    var nchildren = toinsert.length;
    var html_node = toinsert[nchildren-1].children[0];
    html_node.innerHTML = output.data[HTML_MIME_TYPE];
    var scripts = [];
    var nodelist = html_node.querySelectorAll("script");
    for (var i in nodelist) {
      if (nodelist.hasOwnProperty(i)) {
        scripts.push(nodelist[i])
      }
    }

    scripts.forEach( function (oldScript) {
      var newScript = document.createElement("script");
      var attrs = [];
      var nodemap = oldScript.attributes;
      for (var j in nodemap) {
        if (nodemap.hasOwnProperty(j)) {
          attrs.push(nodemap[j])
        }
      }
      attrs.forEach(function(attr) { newScript.setAttribute(attr.name, attr.value) });
      newScript.appendChild(document.createTextNode(oldScript.innerHTML));
      oldScript.parentNode.replaceChild(newScript, oldScript);
    });
    if (JS_MIME_TYPE in output.data) {
      toinsert[nchildren-1].children[1].textContent = output.data[JS_MIME_TYPE];
    }
    output_area._hv_plot_id = id;
    if ((window.Bokeh !== undefined) && (id in Bokeh.index)) {
      window.PyViz.plot_index[id] = Bokeh.index[id];
    } else {
      window.PyViz.plot_index[id] = null;
    }
  } else if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
    var bk_div = document.createElement("div");
    bk_div.innerHTML = output.data[HTML_MIME_TYPE];
    var script_attrs = bk_div.children[0].attributes;
    for (var i = 0; i < script_attrs.length; i++) {
      toinsert[toinsert.length - 1].childNodes[1].setAttribute(script_attrs[i].name, script_attrs[i].value);
    }
    // store reference to server id on output_area
    output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
  }
}

/**
 * Handle when an output is cleared or removed
 */
function handle_clear_output(event, handle) {
  var id = handle.cell.output_area._hv_plot_id;
  var server_id = handle.cell.output_area._bokeh_server_id;
  if (((id === undefined) || !(id in PyViz.plot_index)) && (server_id !== undefined)) { return; }
  var comm = window.PyViz.comm_manager.get_client_comm("hv-extension-comm", "hv-extension-comm", function () {});
  if (server_id !== null) {
    comm.send({event_type: 'server_delete', 'id': server_id});
    return;
  } else if (comm !== null) {
    comm.send({event_type: 'delete', 'id': id});
  }
  delete PyViz.plot_index[id];
  if ((window.Bokeh !== undefined) & (id in window.Bokeh.index)) {
    var doc = window.Bokeh.index[id].model.document
    doc.clear();
    const i = window.Bokeh.documents.indexOf(doc);
    if (i > -1) {
      window.Bokeh.documents.splice(i, 1);
    }
  }
}

/**
 * Handle kernel restart event
 */
function handle_kernel_cleanup(event, handle) {
  delete PyViz.comms["hv-extension-comm"];
  window.PyViz.plot_index = {}
}

/**
 * Handle update_display_data messages
 */
function handle_update_output(event, handle) {
  handle_clear_output(event, {cell: {output_area: handle.output_area}})
  handle_add_output(event, handle)
}

function register_renderer(events, OutputArea) {
  function append_mime(data, metadata, element) {
    // create a DOM node to render to
    var toinsert = this.create_output_subarea(
    metadata,
    CLASS_NAME,
    EXEC_MIME_TYPE
    );
    this.keyboard_manager.register_events(toinsert);
    // Render to node
    var props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
    render(props, toinsert[0]);
    element.append(toinsert);
    return toinsert
  }

  events.on('output_added.OutputArea', handle_add_output);
  events.on('output_updated.OutputArea', handle_update_output);
  events.on('clear_output.CodeCell', handle_clear_output);
  events.on('delete.Cell', handle_clear_output);
  events.on('kernel_ready.Kernel', handle_kernel_cleanup);

  OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
    safe: true,
    index: 0
  });
}

if (window.Jupyter !== undefined) {
  try {
    var events = require('base/js/events');
    var OutputArea = require('notebook/js/outputarea').OutputArea;
    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  } catch(err) {
  }
}
</script></div>
</div>
<p>When building custom applications and dashboards it is frequently useful to extend Panel with custom components, which are specific to a particular application. Panel provides multiple mechanisms to extend and compose diffferent components or even add entirely new components. In this user guide we will go over these approaches and compare the benefits and drawbacks.</p>
<div class="section" id="viewer-components">
<h2>Viewer components<a class="headerlink" href="#viewer-components" title="Permalink to this headline">¶</a></h2>
<p>The simplest way to extend Panel is to implement so called <code class="docutils literal notranslate"><span class="pre">Viewer</span></code> components. These components simply wrap other Panel object and make it possible to compose them as a unit just like any native Panel component. The core mechanism that makes this possible is the implementation of a <code class="docutils literal notranslate"><span class="pre">__panel__</span></code> method on the class, which Panel will call when displaying the component.</p>
<p>Below we will declare a composite <code class="docutils literal notranslate"><span class="pre">EditableRange</span></code> component made up of two <code class="docutils literal notranslate"><span class="pre">FloatInput</span></code> widgets. The class creates the widgets and then sets up callbacks to sync the parameters on the underlying widgets with the parameters on the <code class="docutils literal notranslate"><span class="pre">Viewer</span></code> component and then implements the <code class="docutils literal notranslate"><span class="pre">__panel__</span></code> method, which returns the Panel layout to be rendered when displaying the component:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">panel.viewable</span> <span class="kn">import</span> <span class="n">Viewer</span>

<span class="k">class</span> <span class="nc">EditableRange</span><span class="p">(</span><span class="n">Viewer</span><span class="p">):</span>
    
    <span class="n">value</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Range</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">"A numeric range."</span><span class="p">)</span>
    
    <span class="n">width</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_input</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">FloatInput</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_end_input</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">FloatInput</span><span class="p">(</span><span class="n">align</span><span class="o">=</span><span class="s1">'end'</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_input</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_end_input</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sync_widgets</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">__panel__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_layout</span>
    
    <span class="nd">@param</span><span class="o">.</span><span class="n">depends</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="s1">'width'</span><span class="p">,</span> <span class="n">watch</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_sync_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_input</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_input</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_end_input</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_start_input</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">//</span><span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_end_input</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="o">//</span><span class="mi">2</span>
        
    <span class="nd">@param</span><span class="o">.</span><span class="n">depends</span><span class="p">(</span><span class="s1">'_start_input.value'</span><span class="p">,</span> <span class="s1">'_end_input.value'</span><span class="p">,</span> <span class="n">watch</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">_sync_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start_input</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_end_input</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    
<span class="n">range_widget</span> <span class="o">=</span> <span class="n">EditableRange</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">'Range'</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>

<span class="n">pn</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span>
    <span class="s1">'## This is a custom widget'</span><span class="p">,</span>
    <span class="n">range_widget</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id="1002">
<div class="bk-root" data-root-id="1002" id="69c9a8f6-2185-4fa1-adcf-858d7181f48f"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"79410f89-768b-41a0-af10-96176475734d":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]}],"roots":{"references":[{"attributes":{"children":[{"id":"1003"},{"id":"1004"}],"margin":[0,0,0,0],"name":"Column02979"},"id":"1002","type":"Column"},{"attributes":{"align":"end","margin":[5,10,5,10],"min_width":150,"placeholder":"0","step":0.1,"value":10,"value_throttled":0,"width":150},"id":"1006","type":"Spinner"},{"attributes":{"children":[{"id":"1005"},{"id":"1006"}],"margin":[0,0,0,0],"name":"Row02976"},"id":"1004","type":"Row"},{"attributes":{"client_comm_id":"8c37b1d2872f4c328d345f982f38df23","comm_id":"f74ee7b299c64cd39009f9e092203710","plot_id":"1002"},"id":"1007","type":"panel.models.comm_manager.CommManager"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown02977","text":"&lt;h2&gt;This is a custom widget&lt;/h2&gt;"},"id":"1003","type":"panel.models.markup.HTML"},{"attributes":{"reload":false},"id":"1008","type":"panel.models.location.Location"},{"attributes":{"margin":[5,10,5,10],"min_width":150,"placeholder":"0","step":0.1,"title":"Range","value":0,"value_throttled":0,"width":150},"id":"1005","type":"Spinner"}],"root_ids":["1002","1007","1008"]},"title":"Bokeh Application","version":"2.3.3"}};
    var render_items = [{"docid":"79410f89-768b-41a0-af10-96176475734d","root_ids":["1002"],"roots":{"1002":"69c9a8f6-2185-4fa1-adcf-858d7181f48f"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 200) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 25, root)
  }
})(window);</script></div></div>
</div>
<p>Implementing a component by subclassing the <code class="docutils literal notranslate"><span class="pre">Viewer</span></code> baseclass gives the component a number of useful affordances:</p>
<ul class="simple">
<li><p>It renders itself in a notebook (like all other Panel components)</p></li>
<li><p>It can be placed in a Panel layout component (such as a <code class="docutils literal notranslate"><span class="pre">Row</span></code> or <code class="docutils literal notranslate"><span class="pre">Column</span></code>)</p></li>
<li><p>It has <code class="docutils literal notranslate"><span class="pre">show</span></code> and <code class="docutils literal notranslate"><span class="pre">servable</span></code> methods</p></li>
</ul>
<p>This approach is very helpful when we want to wrap multiple existing Panel components into a easily reusable unit.</p>
</div>
<div class="section" id="reactivehtml-components">
<h2>ReactiveHTML components<a class="headerlink" href="#reactivehtml-components" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ReactiveHTML</span></code> provides bi-directional syncing of arbitrary HTML attributes and DOM properties with parameters on the subclass. This kind of component must declare a HTML template written using Javascript template variables (<code class="docutils literal notranslate"><span class="pre">${}</span></code>) and optionally Jinja2 syntax:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_template</span></code>: The HTML template to render declaring how to link parameters on the class to HTML attributes.</p></li>
</ul>
<p>Additionally the component may declare some additional attributes providing further functionality</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_child_config</span></code> (optional): Optional mapping that controls how children are rendered.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_dom_events</span></code> (optional): Optional mapping of named nodes to DOM events to add event listeners to.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_scripts</span></code> (optional): Optional mapping of Javascript to execute on specific parameter changes.</p></li>
</ul>
<div class="section" id="html-templates">
<h3>HTML templates<a class="headerlink" href="#html-templates" title="Permalink to this headline">¶</a></h3>
<p>A ReactiveHTML component is declared by providing an HTML template on the <code class="docutils literal notranslate"><span class="pre">_template</span></code> attribute on the class. Parameters are synced by inserting them as template variables of the form <code class="docutils literal notranslate"><span class="pre">${parameter}</span></code>, e.g.:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>    _template = '<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"${div_class}"</span><span class="p">&gt;</span>${children}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>'
</pre></div>
</div>
<p>will interpolate the <code class="docutils literal notranslate"><span class="pre">div_class</span></code> parameter on the <code class="docutils literal notranslate"><span class="pre">class</span></code> attribute of the HTML element. In addition to providing attributes we can also provide children to an HTML tag. Any child parameter will be treated as other Panel components to render into the containing HTML. This makes it possible to use <code class="docutils literal notranslate"><span class="pre">ReactiveHTML</span></code> to lay out other components.</p>
<p>The HTML templates also support <a class="reference external" href="https://jinja.palletsprojects.com/en/2.11.x/">Jinja2</a> syntax to template parameter variables and template child objects. The Jinja2 templating engine is automatically given a few context variables:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">param</span></code>: The param namespace object allows templating parameter names, labels, docstrings and other attributes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__doc__</span></code>: The class docstring</p></li>
</ul>
</div>
<div class="section" id="children">
<h3>Children<a class="headerlink" href="#children" title="Permalink to this headline">¶</a></h3>
<p>In order to template other parameters as child objects there are a few options. By default all parameters referenced using <code class="docutils literal notranslate"><span class="pre">${child}</span></code> syntax are treated as if they were Panel components, e.g.:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">"div"</span><span class="p">&gt;</span>${parameter}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>will render the contents of the <code class="docutils literal notranslate"><span class="pre">parameter</span></code> as a Panel object. If you want to render it as a literal string instead you can use the regular Jinja templating syntax instead, i.e. <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">parameter</span> <span class="pre">}}</span></code> or you can use the <code class="docutils literal notranslate"><span class="pre">_child_config</span></code> to declare you want to treat <code class="docutils literal notranslate"><span class="pre">parameter</span></code> as a literal:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">_child_config</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'parameter'</span><span class="p">:</span> <span class="s1">'literal'</span><span class="p">}</span>
</pre></div>
</div>
<p>If the parameter is a list each item in the list will be inserted in sequence unless declared otherwise. However if you want to wrap each child in some custom HTML you will have to use Jinja2 loop syntax:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">select</span><span class="p">&gt;</span>
  {% for obj in parameter %}
  <span class="p">&lt;</span><span class="nt">option</span> <span class="na">id</span><span class="o">=</span><span class="s">"option"</span><span class="p">&gt;</span>${obj}<span class="p">&lt;/</span><span class="nt">option</span><span class="p">&gt;</span>
  {% endfor %}
<span class="p">&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="dom-events">
<h3>DOM Events<a class="headerlink" href="#dom-events" title="Permalink to this headline">¶</a></h3>
<p>In certain cases it is necessary to explicitly declare event listeners on the DOM node to ensure that changes in their properties are synced when an event is fired. To make this possible the HTML element in question must be given an <code class="docutils literal notranslate"><span class="pre">id</span></code>, e.g.:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>    _template = '<span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">"input"</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>'
</pre></div>
</div>
<p>Now we can use this name to declare set of <code class="docutils literal notranslate"><span class="pre">_dom_events</span></code> to subscribe to. The following will subscribe to change DOM events on the input element:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">_dom_events</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'input'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'change'</span><span class="p">]}</span>
</pre></div>
</div>
<p>Once subscribed the class may also define a method following the <code class="docutils literal notranslate"><span class="pre">_{node}_{event}</span></code> naming convention which will fire when the DOM event triggers, e.g. we could define a <code class="docutils literal notranslate"><span class="pre">_input_change</span></code> method. Any such callback will be given a <code class="docutils literal notranslate"><span class="pre">DOMEvent</span></code> object as the first and only argument. The <code class="docutils literal notranslate"><span class="pre">DOMEvent</span></code> contains information about the event on the <code class="docutils literal notranslate"><span class="pre">.data</span></code> attribute and declares the type of event on the <code class="docutils literal notranslate"><span class="pre">.type</span></code> attribute.</p>
</div>
<div class="section" id="scripts">
<h3>Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h3>
<p>In addition to declaring callbacks in Python it is also possible to declare Javascript callbacks on the <code class="docutils literal notranslate"><span class="pre">_scripts</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">ReactiveHTML</span></code> class. There are a few ways to trigger such callbacks.</p>
<p>All scripts have a number of objects available in their namespace that allow accessing (and setting) the parameter values, store state, update the layout and access any named DOM nodes declared as part of the template. Specifically the following objects are declared in each callbacks namespace:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">self</span></code>: A namespace model which provides access to all scripts on the class, e.g. <code class="docutils literal notranslate"><span class="pre">self.value()</span></code> will call the ‘value’ script defined above.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code>:   The data model holds the current values of the synced parameters, e.g. <code class="docutils literal notranslate"><span class="pre">data.value</span></code> will reflect the current value of the input node.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">model</span></code>:  The <code class="docutils literal notranslate"><span class="pre">ReactiveHTML</span></code> model which declares the layout parameters (e.g. <code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">height</span></code>) and the component definition.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">state</span></code>:  An empty state dictionary which scripts can use to store state for the lifetime of the view.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">view</span></code>: Bokeh View class responsible for rendering the component. This provides access to method like <code class="docutils literal notranslate"><span class="pre">view.resize_layout()</span></code> to signal to Bokeh that  it should recompute the layout of the element.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;node&gt;</span></code>: All named DOM nodes in the HTML template, e.g. the <code class="docutils literal notranslate"><span class="pre">input</span></code> node in the example above.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">event</span></code>: If the script is invoked via an <a class="reference external" href="#Inline-callbacks">inline callback</a> the corresponding event will be in the namespace</p></li>
</ul>
<div class="section" id="parameter-callbacks">
<h4>Parameter callbacks<a class="headerlink" href="#parameter-callbacks" title="Permalink to this headline">¶</a></h4>
<p>If the key in the <code class="docutils literal notranslate"><span class="pre">_scripts</span></code> dictionary matches one of the parameters declared on the class the callback will automatically fire whenever the synced parameter value changes. As an example let’s say we have a class which declares a <code class="docutils literal notranslate"><span class="pre">value</span></code> parameter, linked to the <code class="docutils literal notranslate"><span class="pre">value</span></code> attribute of an <code class="docutils literal notranslate"><span class="pre">&lt;input&gt;</span></code> HTML tag:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">value</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">String</span><span class="p">()</span>

    <span class="n">_template</span> <span class="o">=</span> <span class="s1">'&lt;input id="input" value="$</span><span class="si">{value}</span><span class="s1">"&gt;&lt;/input&gt;'</span>
</pre></div>
</div>
<p>We can now declare a <code class="docutils literal notranslate"><span class="pre">'value'</span></code> key in the <code class="docutils literal notranslate"><span class="pre">_scripts</span></code> dictionary, which will fire whenever the <code class="docutils literal notranslate"><span class="pre">value</span></code> is updated:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>   <span class="n">_scripts</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s1">'value'</span><span class="p">:</span> <span class="s1">'console.log(self, input, data.value)'</span>
   <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="lifecycle-callbacks">
<h4>Lifecycle callbacks<a class="headerlink" href="#lifecycle-callbacks" title="Permalink to this headline">¶</a></h4>
<p>In addition to parameter callbacks there are a few reserved keys in the <code class="docutils literal notranslate"><span class="pre">_scripts</span></code> which are fired during rendering of the component:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'render'</span></code>: This callback is invoked during initial rendering of the component.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'after_layout'</span></code>: This callback is invoked after the component has been fully rendered and the layout is fully computed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'remove'</span></code>: This callback is invoked when the component is removed.</p></li>
</ul>
</div>
<div class="section" id="explicit-calls">
<h4>Explicit calls<a class="headerlink" href="#explicit-calls" title="Permalink to this headline">¶</a></h4>
<p>It is also possible to explicitly invoke one script from the namespace of another script using the <code class="docutils literal notranslate"><span class="pre">self</span></code> object, e.g. we might define a <code class="docutils literal notranslate"><span class="pre">get_data</span></code> method that returns the data in a particular format:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">_scripts</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s1">'get_data'</span><span class="p">:</span> <span class="s1">'return [data.x, data.y]'</span>
      <span class="s1">'render'</span>  <span class="p">:</span> <span class="s1">'console.log(self.get_data())'</span>
    <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="inline-callbacks">
<h3>Inline callbacks<a class="headerlink" href="#inline-callbacks" title="Permalink to this headline">¶</a></h3>
<p>Instead of declaring explicit DOM events Python callbacks can also be declared inline, e.g.:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>    _template = '<span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">"input"</span> <span class="na">onchange</span><span class="o">=</span><span class="s">"${_input_change}"</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>'
</pre></div>
</div>
<p>will look for an <code class="docutils literal notranslate"><span class="pre">_input_change</span></code> method on the <code class="docutils literal notranslate"><span class="pre">ReactiveHTML</span></code> component and call it when the event is fired.</p>
<p>Additionally we can invoke the Javascript code declared in the <code class="docutils literal notranslate"><span class="pre">_scripts</span></code> dictionary by name using the <code class="docutils literal notranslate"><span class="pre">script</span></code> function, e.g.:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>    <span class="p">&lt;</span><span class="nt">input</span> <span class="na">id</span><span class="o">=</span><span class="s">"input"</span> <span class="na">onchange</span><span class="o">=</span><span class="s">"${script('some_script')}"</span><span class="p">&gt;&lt;/</span><span class="nt">input</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>will invoke the following script if it is defined on the class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">_scripts</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'some_script'</span><span class="p">:</span> <span class="s1">'console.log(self.state.event)'</span>
   <span class="p">}</span>
</pre></div>
</div>
<p>Note that the event that triggered the callback will be made available in the namespace of the callback</p>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="section" id="callbacks">
<h4>Callbacks<a class="headerlink" href="#callbacks" title="Permalink to this headline">¶</a></h4>
<p>To see all of this in action we declare a <code class="docutils literal notranslate"><span class="pre">Slideshow</span></code> component which subscribes to <code class="docutils literal notranslate"><span class="pre">click</span></code> events on an <code class="docutils literal notranslate"><span class="pre">&lt;img&gt;</span></code> element and advances the image <code class="docutils literal notranslate"><span class="pre">index</span></code> on each click:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">panel.reactive</span> <span class="kn">import</span> <span class="n">ReactiveHTML</span>

<span class="k">class</span> <span class="nc">Slideshow</span><span class="p">(</span><span class="n">ReactiveHTML</span><span class="p">):</span>
    
    <span class="n">index</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="n">_template</span> <span class="o">=</span> <span class="s1">'&lt;img id="img" src="https://picsum.photos/800/300?image=$</span><span class="si">{index}</span><span class="s1">" onclick="$</span><span class="si">{_img_click}</span><span class="s1">"&gt;&lt;/img&gt;'</span>

    <span class="k">def</span> <span class="nf">_img_click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        
<span class="n">Slideshow</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id="1010">
<div class="bk-root" data-root-id="1010" id="a66edf76-4fc2-4b16-a3dd-84aa1030c5aa"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"d9f8e57b-1828-4c91-afbb-d74732cd1ddc":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"Slideshow1","overrides":[],"properties":[{"default":0,"kind":null,"name":"index"}]}],"roots":{"references":[{"attributes":{"attrs":{"img":[["src",["index"],"https://picsum.photos/800/300?image={index}"],["onclick",[],"{_img_click}"]]},"callbacks":{"img":[["onclick","_img_click"]]},"data":{"id":"1009"},"height":300,"html":"&lt;img id=&quot;img-${id}&quot; src=&quot;https://picsum.photos/800/300?image=${index}&quot; onclick=&quot;${_img_click}&quot;&gt;&lt;/img&gt;","margin":[5,5,5,5],"nodes":["img"],"sizing_mode":"fixed","subscribed_events":["dom_event"],"width":800},"id":"1010","type":"panel.models.reactive_html.ReactiveHTML"},{"attributes":{"name":"Slideshow02983"},"id":"1009","type":"Slideshow1"},{"attributes":{"client_comm_id":"24bda96699454112a36e64a21e86f8d9","comm_id":"edf5f822eab04cd0b86134e8f05ddaa1","plot_id":"1010"},"id":"1011","type":"panel.models.comm_manager.CommManager"}],"root_ids":["1010","1011"]},"title":"Bokeh Application","version":"2.3.3"}};
    var render_items = [{"docid":"d9f8e57b-1828-4c91-afbb-d74732cd1ddc","root_ids":["1010"],"roots":{"1010":"a66edf76-4fc2-4b16-a3dd-84aa1030c5aa"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 200) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 25, root)
  }
})(window);</script></div></div>
</div>
<p>As we can see this approach lets us quickly build custom HTML components with complex interactivity. However if we do not need any complex computations in Python we can also construct a pure JS equivalent:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">JSSlideshow</span><span class="p">(</span><span class="n">ReactiveHTML</span><span class="p">):</span>
    
    <span class="n">index</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Integer</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    
    <span class="n">_template</span> <span class="o">=</span> <span class="s2">"""&lt;img id="img" src="https://picsum.photos/800/300?image=$</span><span class="si">{index}</span><span class="s2">" onclick="${script('click')}"&gt;&lt;/img&gt;"""</span>

    <span class="n">_scripts</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'click'</span><span class="p">:</span> <span class="s1">'data.index += 1'</span><span class="p">}</span>
    
<span class="n">JSSlideshow</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id="1013">
<div class="bk-root" data-root-id="1013" id="11c87b42-16d0-444a-b907-0d906e8dc0fc"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"d5685478-b4f2-4433-b03d-d77c00c0b282":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"Slideshow1","overrides":[],"properties":[{"default":0,"kind":null,"name":"index"}]},{"extends":null,"module":null,"name":"click1","overrides":[],"properties":[{"default":0,"kind":null,"name":"index"}]}],"roots":{"references":[{"attributes":{"attrs":{"img":[["src",["index"],"https://picsum.photos/800/300?image={index}"],["onclick",[],"{script('click')}"]]},"callbacks":{"img":[["onclick","script('click')"]]},"data":{"id":"1012"},"height":300,"html":"&lt;img id=&quot;img-${id}&quot; src=&quot;https://picsum.photos/800/300?image=${index}&quot; onclick=&quot;${script(&#x27;click&#x27;)}&quot;&gt;&lt;/img&gt;","margin":[5,5,5,5],"nodes":["img"],"scripts":{"click":["data.index += 1"]},"sizing_mode":"fixed","subscribed_events":["dom_event"],"width":800},"id":"1013","type":"panel.models.reactive_html.ReactiveHTML"},{"attributes":{"name":"JSSlideshow02986"},"id":"1012","type":"click1"},{"attributes":{"client_comm_id":"e7065a61925d47a3bc3b92f17288cac2","comm_id":"6149e522132c4014aac1e55ac3d98f8b","plot_id":"1013"},"id":"1014","type":"panel.models.comm_manager.CommManager"}],"root_ids":["1013","1014"]},"title":"Bokeh Application","version":"2.3.3"}};
    var render_items = [{"docid":"d5685478-b4f2-4433-b03d-d77c00c0b282","root_ids":["1013"],"roots":{"1013":"11c87b42-16d0-444a-b907-0d906e8dc0fc"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 200) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 25, root)
  }
})(window);</script></div></div>
</div>
</div>
<div class="section" id="child-templates">
<h4>Child templates<a class="headerlink" href="#child-templates" title="Permalink to this headline">¶</a></h4>
<p>If we want to provide a template for the children of an HTML node we have to use Jinja2 syntax to loop over the parameter. The component will automatically assign each <code class="docutils literal notranslate"><span class="pre">&lt;option&gt;</span></code> tag a unique id and insert the loop variable <code class="docutils literal notranslate"><span class="pre">option</span></code> into each of the tags:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Select</span><span class="p">(</span><span class="n">ReactiveHTML</span><span class="p">):</span>

    <span class="n">options</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">List</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">"Options to choose from."</span><span class="p">)</span>
    
    <span class="n">value</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="n">doc</span><span class="o">=</span><span class="s2">"Current selected option"</span><span class="p">)</span>
    
    <span class="n">_template</span> <span class="o">=</span> <span class="s2">"""</span>
<span class="s2">    &lt;select id="select" value="$</span><span class="si">{value}</span><span class="s2">" style="width: $</span><span class="si">{model.width}</span><span class="s2">px"&gt;</span>
<span class="s2">      {</span><span class="si">% f</span><span class="s2">or option in options %}</span>
<span class="s2">      &lt;option id="option"&gt;$</span><span class="si">{option}</span><span class="s2">&lt;/option&gt;</span>
<span class="s2">      {</span><span class="si">% e</span><span class="s2">ndfor %}</span>
<span class="s2">    &lt;/select&gt;</span>
<span class="s2">    """</span>
    
    <span class="n">_dom_events</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'select'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'change'</span><span class="p">]}</span>
    
<span class="n">select</span> <span class="o">=</span> <span class="n">Select</span><span class="p">(</span><span class="n">options</span><span class="o">=</span><span class="p">[</span><span class="s1">'A'</span><span class="p">,</span> <span class="s1">'B'</span><span class="p">,</span> <span class="s1">'C'</span><span class="p">])</span>
<span class="n">select</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id="1016">
<div class="bk-root" data-root-id="1016" id="f2148001-8aa6-48dd-b962-5b5aaab8977c"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"ab30222f-5b65-45aa-9832-8f17a43b8903":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"Slideshow1","overrides":[],"properties":[{"default":0,"kind":null,"name":"index"}]},{"extends":null,"module":null,"name":"click1","overrides":[],"properties":[{"default":0,"kind":null,"name":"index"}]},{"extends":null,"module":null,"name":"Select1","overrides":[],"properties":[{"default":"","kind":null,"name":"value"}]}],"roots":{"references":[{"attributes":{"client_comm_id":"cda022c8f6914e00b06ae601652bdeda","comm_id":"c34ef0d572844983b7981b4b654cce0e","plot_id":"1016"},"id":"1020","type":"panel.models.comm_manager.CommManager"},{"attributes":{"attrs":{"select":[["value",["value"],"{value}"]]},"children":{"option":[{"id":"1017"},{"id":"1018"},{"id":"1019"}]},"data":{"id":"1015"},"events":{"select":{"change":true}},"html":"\n&lt;select id=&quot;select-${id}&quot; value=&quot;${value}&quot; style=&quot;width: ${model.width}px&quot;&gt;\n\n  &lt;option id=&quot;option-0-${id}&quot;&gt;&lt;/option&gt;\n\n  &lt;option id=&quot;option-1-${id}&quot;&gt;&lt;/option&gt;\n\n  &lt;option id=&quot;option-2-${id}&quot;&gt;&lt;/option&gt;\n\n&lt;/select&gt;\n","looped":["option"],"margin":[5,5,5,5],"nodes":["select","option"],"subscribed_events":["dom_event"]},"id":"1016","type":"panel.models.reactive_html.ReactiveHTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown02989","text":"&lt;p&gt;A&lt;/p&gt;"},"id":"1017","type":"panel.models.markup.HTML"},{"attributes":{"name":"Select02995"},"id":"1015","type":"Select1"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown02991","text":"&lt;p&gt;B&lt;/p&gt;"},"id":"1018","type":"panel.models.markup.HTML"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown02993","text":"&lt;p&gt;C&lt;/p&gt;"},"id":"1019","type":"panel.models.markup.HTML"}],"root_ids":["1016","1020"]},"title":"Bokeh Application","version":"2.3.3"}};
    var render_items = [{"docid":"ab30222f-5b65-45aa-9832-8f17a43b8903","root_ids":["1016"],"roots":{"1016":"f2148001-8aa6-48dd-b962-5b5aaab8977c"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 200) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 25, root)
  }
})(window);</script></div></div>
</div>
</div>
<div class="section" id="pure-javascript-events">
<h4>Pure Javascript events<a class="headerlink" href="#pure-javascript-events" title="Permalink to this headline">¶</a></h4>
<p>Next we will build a more complex example using pure Javascript events to draw on a canvas with configurable line width, color and the ability to clear and save the resulting drawing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Canvas</span><span class="p">(</span><span class="n">ReactiveHTML</span><span class="p">):</span>
    
    <span class="n">color</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">'#000000'</span><span class="p">)</span>
    
    <span class="n">line_width</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">Number</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bounds</span><span class="o">=</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
    
    <span class="n">uri</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">String</span><span class="p">()</span>

    <span class="n">_template</span> <span class="o">=</span> <span class="s2">"""</span>
<span class="s2">    &lt;canvas </span>
<span class="s2">      id="canvas"</span>
<span class="s2">      style="border: 1px solid;"</span>
<span class="s2">      width="$</span><span class="si">{model.width}</span><span class="s2">"</span>
<span class="s2">      height="$</span><span class="si">{model.height}</span><span class="s2">"</span>
<span class="s2">      onmousedown="${script('start')}"</span>
<span class="s2">      onmousemove="${script('draw')}"</span>
<span class="s2">      onmouseup="${script('end')}"</span>
<span class="s2">    &gt;</span>
<span class="s2">    &lt;/canvas&gt;</span>
<span class="s2">    &lt;button id="clear" onclick='${script("clear")}'&gt;Clear&lt;/button&gt;</span>
<span class="s2">    &lt;button id="save" onclick='${script("save")}'&gt;Save&lt;/button&gt;</span>
<span class="s2">    """</span>
    
    <span class="n">_scripts</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'render'</span><span class="p">:</span> <span class="s2">"""</span>
<span class="s2">          state.ctx = canvas.getContext("2d")</span>
<span class="s2">        """</span><span class="p">,</span>
        <span class="s1">'start'</span><span class="p">:</span> <span class="s2">"""</span>
<span class="s2">          state.start = event</span>
<span class="s2">          state.ctx.beginPath()</span>
<span class="s2">          state.ctx.moveTo(state.start.offsetX, state.start.offsetY)</span>
<span class="s2">        """</span><span class="p">,</span>
        <span class="s1">'draw'</span><span class="p">:</span> <span class="s2">"""</span>
<span class="s2">          if (state.start == null)</span>
<span class="s2">            return</span>
<span class="s2">          state.ctx.lineTo(event.offsetX, event.offsetY)</span>
<span class="s2">          state.ctx.stroke()</span>
<span class="s2">        """</span><span class="p">,</span>
        <span class="s1">'end'</span><span class="p">:</span> <span class="s2">"""</span>
<span class="s2">          delete state.start</span>
<span class="s2">        """</span><span class="p">,</span>
        <span class="s1">'clear'</span><span class="p">:</span> <span class="s2">"""</span>
<span class="s2">          state.ctx.clearRect(0, 0, canvas.width, canvas.height);</span>
<span class="s2">        """</span><span class="p">,</span>
        <span class="s1">'save'</span><span class="p">:</span> <span class="s2">"""</span>
<span class="s2">          data.uri = canvas.toDataURL();</span>
<span class="s2">        """</span><span class="p">,</span>
        <span class="s1">'line_width'</span><span class="p">:</span> <span class="s2">"""</span>
<span class="s2">          state.ctx.lineWidth = data.line_width;</span>
<span class="s2">        """</span><span class="p">,</span>
        <span class="s1">'color'</span><span class="p">:</span> <span class="s2">"""</span>
<span class="s2">          state.ctx.strokeStyle = data.color;</span>
<span class="s2">        """</span>
    <span class="p">}</span>

<span class="n">canvas</span> <span class="o">=</span> <span class="n">Canvas</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>

<span class="c1"># We create a separate HTML element which syncs with the uri parameter of the Canvas</span>
<span class="n">png_view</span> <span class="o">=</span> <span class="n">pn</span><span class="o">.</span><span class="n">pane</span><span class="o">.</span><span class="n">HTML</span><span class="p">()</span>
<span class="n">canvas</span><span class="o">.</span><span class="n">jslink</span><span class="p">(</span><span class="n">png_view</span><span class="p">,</span> <span class="n">code</span><span class="o">=</span><span class="p">{</span><span class="s1">'uri'</span><span class="p">:</span> <span class="s2">"target.text = `&lt;img src='$</span><span class="si">{source.uri}</span><span class="s2">'&gt;&lt;/img&gt;`"</span><span class="p">})</span>

<span class="n">pn</span><span class="o">.</span><span class="n">Column</span><span class="p">(</span>
    <span class="s1">'# Drag on canvas to draw</span><span class="se">\n</span><span class="s1"> To export the drawing to a png click save.'</span><span class="p">,</span>
    <span class="n">pn</span><span class="o">.</span><span class="n">Row</span><span class="p">(</span>
        <span class="n">canvas</span><span class="o">.</span><span class="n">controls</span><span class="p">([</span><span class="s1">'color'</span><span class="p">,</span> <span class="s1">'line_width'</span><span class="p">]),</span>
        <span class="n">canvas</span><span class="p">,</span>
        <span class="n">png_view</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id="1021">
<div class="bk-root" data-root-id="1021" id="77a292cd-2b21-4388-9d40-36bd9bb71e16"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"7c3b57c8-2e1d-4963-a060-df1c597d3e11":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"Slideshow1","overrides":[],"properties":[{"default":0,"kind":null,"name":"index"}]},{"extends":null,"module":null,"name":"click1","overrides":[],"properties":[{"default":0,"kind":null,"name":"index"}]},{"extends":null,"module":null,"name":"Select1","overrides":[],"properties":[{"default":"","kind":null,"name":"value"}]},{"extends":null,"module":null,"name":"save1","overrides":[],"properties":[{"default":"#000000","kind":null,"name":"color"},{"default":1,"kind":null,"name":"line_width"},{"default":"","kind":null,"name":"uri"}]}],"roots":{"references":[{"attributes":{"args":{"bidirectional":true,"properties":{"value":"line_width"},"source":{"id":"1028"},"target":{"id":"1027"}},"code":"\n    var value = source['line_width'];\n    value = value;\n    value = value;\n    try {\n      var property = target.properties['value'];\n      if (property !== undefined) { property.validate(value); }\n    } catch(err) {\n      console.log('WARNING: Could not set value on target, raised error: ' + err);\n      return;\n    }\n    try {\n      target['value'] = value;\n    } catch(err) {\n      console.log(err)\n    }\n    ","tags":[139759673699216]},"id":"1034","type":"CustomJS"},{"attributes":{"args":{"bidirectional":false,"properties":{},"source":{"id":"1028"},"target":{"id":"1030"}},"code":"try { target.text = `<img src='${source.uri}'></img>` } catch(err) { console.log(err) }","tags":[139759674079120]},"id":"1035","type":"CustomJS"},{"attributes":{"margin":[5,5,5,5],"name":"HTML02999"},"id":"1030","type":"panel.models.markup.HTML"},{"attributes":{"args":{"bidirectional":true,"properties":{"value":"color"},"source":{"id":"1026"},"target":{"id":"1028"}},"code":"\n    var value = source['color'];\n    value = value;\n    value = value;\n    try {\n      var property = target.properties['color'];\n      if (property !== undefined) { property.validate(value); }\n    } catch(err) {\n      console.log('WARNING: Could not set color on target, raised error: ' + err);\n      return;\n    }\n    try {\n      target['color'] = value;\n    } catch(err) {\n      console.log(err)\n    }\n    ","tags":[139759674010000]},"id":"1031","type":"CustomJS"},{"attributes":{"client_comm_id":"5c0e0bd3d67e43b494f4d7a455eadf79","comm_id":"d862941d4e084e75b9b04f846c42bf6e","plot_id":"1021"},"id":"1036","type":"panel.models.comm_manager.CommManager"},{"attributes":{"children":[{"id":"1025"},{"id":"1026"},{"id":"1027"}],"css_classes":["panel-widget-box"],"margin":[5,5,5,5],"min_width":300,"name":"Controls","width":300},"id":"1024","type":"Column"},{"attributes":{"end":10,"js_property_callbacks":{"change:value":[{"id":"1033"}]},"margin":[5,10,5,10],"start":0.1,"step":0.1,"title":"Line width","value":1},"id":"1027","type":"Slider"},{"attributes":{"args":{"bidirectional":true,"properties":{"value":"line_width"},"source":{"id":"1027"},"target":{"id":"1028"}},"code":"\n    var value = source['value'];\n    value = value;\n    value = value;\n    try {\n      var property = target.properties['line_width'];\n      if (property !== undefined) { property.validate(value); }\n    } catch(err) {\n      console.log('WARNING: Could not set line_width on target, raised error: ' + err);\n      return;\n    }\n    try {\n      target['line_width'] = value;\n    } catch(err) {\n      console.log(err)\n    }\n    ","tags":[139759673699216]},"id":"1033","type":"CustomJS"},{"attributes":{"attrs":{"canvas":[["onmousedown",[],"{script('start')}"],["onmousemove",[],"{script('draw')}"],["onmouseup",[],"{script('end')}"]],"clear":[["onclick",[],"{script(\"clear\")}"]],"save":[["onclick",[],"{script(\"save\")}"]]},"callbacks":{"canvas":[["onmousedown","script('start')"],["onmousemove","script('draw')"],["onmouseup","script('end')"]],"clear":[["onclick","script(\"clear\")"]],"save":[["onclick","script(\"save\")"]]},"data":{"id":"1028"},"height":400,"html":"\n&lt;canvas \n  id=&quot;canvas-${id}&quot;\n  style=&quot;border: 1px solid;&quot;\n  width=&quot;${model.width}&quot;\n  height=&quot;${model.height}&quot;\n  onmousedown=&quot;${script(&#x27;start&#x27;)}&quot;\n  onmousemove=&quot;${script(&#x27;draw&#x27;)}&quot;\n  onmouseup=&quot;${script(&#x27;end&#x27;)}&quot;\n&gt;\n&lt;/canvas&gt;\n&lt;button id=&quot;clear-${id}&quot; onclick=&#x27;${script(&quot;clear&quot;)}&#x27;&gt;Clear&lt;/button&gt;\n&lt;button id=&quot;save-${id}&quot; onclick=&#x27;${script(&quot;save&quot;)}&#x27;&gt;Save&lt;/button&gt;\n","margin":[5,5,5,5],"nodes":["canvas","clear","save"],"scripts":{"clear":["state.ctx.clearRect(0, 0, canvas.width, canvas.height);"],"color":["state.ctx.strokeStyle = data.color;"],"draw":["if (state.start == null)\n  return\nstate.ctx.lineTo(event.offsetX, event.offsetY)\nstate.ctx.stroke()"],"end":["delete state.start"],"line_width":["state.ctx.lineWidth = data.line_width;"],"render":["state.ctx = canvas.getContext(&quot;2d&quot;)"],"save":["data.uri = canvas.toDataURL();"],"start":["state.start = event\nstate.ctx.beginPath()\nstate.ctx.moveTo(state.start.offsetX, state.start.offsetY)"]},"sizing_mode":"fixed","subscribed_events":["dom_event"],"width":400},"id":"1029","type":"panel.models.reactive_html.ReactiveHTML"},{"attributes":{"args":{"bidirectional":true,"properties":{"value":"color"},"source":{"id":"1028"},"target":{"id":"1026"}},"code":"\n    var value = source['color'];\n    value = value;\n    value = value;\n    try {\n      var property = target.properties['color'];\n      if (property !== undefined) { property.validate(value); }\n    } catch(err) {\n      console.log('WARNING: Could not set color on target, raised error: ' + err);\n      return;\n    }\n    try {\n      target['color'] = value;\n    } catch(err) {\n      console.log(err)\n    }\n    ","tags":[139759674010000]},"id":"1032","type":"CustomJS"},{"attributes":{"js_property_callbacks":{"change:color":[{"id":"1031"}]},"margin":[5,10,5,10],"title":"Color"},"id":"1026","type":"ColorPicker"},{"attributes":{"css_classes":["markdown"],"margin":[5,5,5,5],"name":"Markdown03019","text":"&lt;h1&gt;Drag on canvas to draw&lt;/h1&gt;\n&lt;p&gt;To export the drawing to a png click save.&lt;/p&gt;"},"id":"1022","type":"panel.models.markup.HTML"},{"attributes":{"children":[{"id":"1022"},{"id":"1023"}],"margin":[0,0,0,0],"name":"Column03021"},"id":"1021","type":"Column"},{"attributes":{"margin":[5,10,5,10],"name":"","text":"<b>Controls</b>"},"id":"1025","type":"Div"},{"attributes":{"js_property_callbacks":{"change:color":[{"id":"1032"}],"change:line_width":[{"id":"1034"}],"change:uri":[{"id":"1035"}]},"name":"Canvas02998"},"id":"1028","type":"save1"},{"attributes":{"children":[{"id":"1024"},{"id":"1029"},{"id":"1030"}],"margin":[0,0,0,0],"name":"Row03018"},"id":"1023","type":"Row"}],"root_ids":["1021","1036"]},"title":"Bokeh Application","version":"2.3.3"}};
    var render_items = [{"docid":"7c3b57c8-2e1d-4963-a060-df1c597d3e11","root_ids":["1021"],"roots":{"1021":"77a292cd-2b21-4388-9d40-36bd9bb71e16"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 200) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 25, root)
  }
})(window);</script></div></div>
</div>
<p>This example leverages all three ways a script is invoked:</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'render'</span></code> is called on initialization</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'start'</span></code>, <code class="docutils literal notranslate"><span class="pre">'draw'</span></code> and <code class="docutils literal notranslate"><span class="pre">'end'</span></code> are explicitly invoked using the <code class="docutils literal notranslate"><span class="pre">${script(...)}</span></code> syntax in inline callbacks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'line_width'</span></code> and <code class="docutils literal notranslate"><span class="pre">'color'</span></code> are invoked when the parameters change (i.e. when a widget is updated)</p></li>
</ol>
<p>It also makes extensive use of the available objects in the namespace:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'render'</span></code>: Uses the <code class="docutils literal notranslate"><span class="pre">state</span></code> object to easily access the canvas rendering context in subsequent callbacks and accesses the <code class="docutils literal notranslate"><span class="pre">canvas</span></code> DOM node by name.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'start'</span></code>, <code class="docutils literal notranslate"><span class="pre">'draw'</span></code>:  Use the <code class="docutils literal notranslate"><span class="pre">event</span></code> object provided by the <code class="docutils literal notranslate"><span class="pre">onmousedown</span></code> and <code class="docutils literal notranslate"><span class="pre">onmousemove</span></code> inline callbacks</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'save'</span></code>, <code class="docutils literal notranslate"><span class="pre">'line_width'</span></code>, <code class="docutils literal notranslate"><span class="pre">'color'</span></code>: Use the <code class="docutils literal notranslate"><span class="pre">data</span></code> object to get and set the current state of the parameter values</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="external-dependencies">
<h2>External dependencies<a class="headerlink" href="#external-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Often you will want to wrap a component with some external Javascript or CSS dependencies. To make this possible <code class="docutils literal notranslate"><span class="pre">ReactiveHTML</span></code> components may declare <code class="docutils literal notranslate"><span class="pre">__javascript__</span></code>, <code class="docutils literal notranslate"><span class="pre">__javascript_modules__</span></code> and <code class="docutils literal notranslate"><span class="pre">__css__</span></code> attributes, specifying the external dependencies to load. Note that in a notebook the component must be declared before <code class="docutils literal notranslate"><span class="pre">pn.extension</span></code> is called, otherwise the libraries won’t be loaded (in this case we explicitly loaded them above).</p>
<p>Below we will create a Material UI text field and declare the Javascript and CSS components to load:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MaterialTextField</span><span class="p">(</span><span class="n">ReactiveHTML</span><span class="p">):</span>
    
    <span class="n">value</span> <span class="o">=</span> <span class="n">param</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="s1">''</span><span class="p">)</span>
    
    <span class="n">_template</span> <span class="o">=</span> <span class="s2">"""</span>
<span class="s2">    &lt;label id="text-field" class="mdc-text-field mdc-text-field--filled"&gt;</span>
<span class="s2">      &lt;span class="mdc-text-field__ripple"&gt;&lt;/span&gt;</span>
<span class="s2">      &lt;span class="mdc-floating-label"&gt;Label&lt;/span&gt;</span>
<span class="s2">      &lt;input id="text-input" type="text" class="mdc-text-field__input" aria-labelledby="my-label" value="$</span><span class="si">{value}</span><span class="s2">"&gt;&lt;/input&gt;</span>
<span class="s2">      &lt;span class="mdc-line-ripple"&gt;&lt;/span&gt;</span>
<span class="s2">    &lt;/label&gt;</span>
<span class="s2">    """</span>
    
    <span class="n">_dom_events</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'text-input'</span><span class="p">:</span> <span class="p">[</span><span class="s1">'change'</span><span class="p">]}</span>
    
    <span class="n">_scripts</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">'render'</span><span class="p">:</span> <span class="s2">"mdc.textField.MDCTextField.attachTo(text_field);"</span>
    <span class="p">}</span>
    
    <span class="n">__javascript__</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">'https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js'</span>
    <span class="p">]</span>
    
    <span class="n">__css__</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">'https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css'</span>
    <span class="p">]</span>
    
<span class="n">text_field</span> <span class="o">=</span> <span class="n">MaterialTextField</span><span class="p">()</span>

<span class="n">text_field</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div id="1038">
<div class="bk-root" data-root-id="1038" id="2f112459-a760-4479-9673-6932bafcc20c"></div>
</div>
<script type="application/javascript">(function(root) {
  function embed_document(root) {
    var docs_json = {"0b02b4a3-198f-444c-bd75-d029a564d5d1":{"defs":[{"extends":null,"module":null,"name":"ReactiveHTML1","overrides":[],"properties":[]},{"extends":null,"module":null,"name":"FlexBox1","overrides":[],"properties":[{"default":"flex-start","kind":null,"name":"align_content"},{"default":"flex-start","kind":null,"name":"align_items"},{"default":"row","kind":null,"name":"flex_direction"},{"default":"wrap","kind":null,"name":"flex_wrap"},{"default":"flex-start","kind":null,"name":"justify_content"}]},{"extends":null,"module":null,"name":"TemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"MaterialTemplateActions1","overrides":[],"properties":[{"default":0,"kind":null,"name":"open_modal"},{"default":0,"kind":null,"name":"close_modal"}]},{"extends":null,"module":null,"name":"Slideshow1","overrides":[],"properties":[{"default":0,"kind":null,"name":"index"}]},{"extends":null,"module":null,"name":"click1","overrides":[],"properties":[{"default":0,"kind":null,"name":"index"}]},{"extends":null,"module":null,"name":"Select1","overrides":[],"properties":[{"default":"","kind":null,"name":"value"}]},{"extends":null,"module":null,"name":"save1","overrides":[],"properties":[{"default":"#000000","kind":null,"name":"color"},{"default":1,"kind":null,"name":"line_width"},{"default":"","kind":null,"name":"uri"}]},{"extends":null,"module":null,"name":"MaterialTextField1","overrides":[],"properties":[{"default":"","kind":null,"name":"value"}]}],"roots":{"references":[{"attributes":{"name":"MaterialTextField03024"},"id":"1037","type":"MaterialTextField1"},{"attributes":{"client_comm_id":"5f69264f066b4ec0a7da18b1ddd2a989","comm_id":"5e0e508b422c4ee4bd6bb7ffdc0fb1d4","plot_id":"1038"},"id":"1039","type":"panel.models.comm_manager.CommManager"},{"attributes":{"attrs":{"text-input":[["value",["value"],"{value}"]]},"data":{"id":"1037"},"events":{"text-input":{"change":true}},"html":"\n&lt;label id=&quot;text-field-${id}&quot; class=&quot;mdc-text-field mdc-text-field--filled&quot;&gt;\n  &lt;span class=&quot;mdc-text-field__ripple&quot;&gt;&lt;/span&gt;\n  &lt;span class=&quot;mdc-floating-label&quot;&gt;Label&lt;/span&gt;\n  &lt;input id=&quot;text-input-${id}&quot; type=&quot;text&quot; class=&quot;mdc-text-field__input&quot; aria-labelledby=&quot;my-label&quot; value=&quot;${value}&quot;&gt;&lt;/input&gt;\n  &lt;span class=&quot;mdc-line-ripple&quot;&gt;&lt;/span&gt;\n&lt;/label&gt;\n","margin":[5,5,5,5],"nodes":["text-field","text-input"],"scripts":{"render":["mdc.textField.MDCTextField.attachTo(text_field);"]},"subscribed_events":["dom_event"]},"id":"1038","type":"panel.models.reactive_html.ReactiveHTML"}],"root_ids":["1038","1039"]},"title":"Bokeh Application","version":"2.3.3"}};
    var render_items = [{"docid":"0b02b4a3-198f-444c-bd75-d029a564d5d1","root_ids":["1038"],"roots":{"1038":"2f112459-a760-4479-9673-6932bafcc20c"}}];
    root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
    embed_document(root);
  } else {
    var attempts = 0;
    var timer = setInterval(function(root) {
      if (root.Bokeh !== undefined && root.Bokeh.Panel !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else if (document.readyState == "complete") {
        attempts++;
        if (attempts > 200) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 25, root)
  }
})(window);</script></div></div>
</div>
</div>
<div class="section" id="building-custom-bokeh-models">
<h2>Building custom bokeh models<a class="headerlink" href="#building-custom-bokeh-models" title="Permalink to this headline">¶</a></h2>
<p>The last approach to extending Panel with new components is to write custom Bokeh models. This involves writing, compiling and distributing custom Javascript and therefore requires considerably more effort than the other approaches. Detailed documentation on writing such components will be coming to the developer guide in the future.</p>
</div>
<div id="scroller-right">This web page was generated from a Jupyter notebook and not all interactivity will work on this website. <a href="https://raw.githubusercontent.com/holoviz/panel/master/examples/user_guide/Custom_Components.ipynb">Right click to download and run locally</a> for full Python-backed interactivity.</div><hr class="docutils"/>
<p><a class="reference external" href="https://raw.githubusercontent.com/holoviz/panel/master/examples/user_guide/Custom_Components.ipynb">Right click to download this notebook from GitHub.</a></p>
</div>
</div>
<div class="prev-next-bottom">
<a class="left-prev" href="Server_Deployment.html" id="prev-link" title="previous page">Server Deployment</a>
<a class="right-next" href="Async_and_Concurrency.html" id="next-link" title="next page">Async and Concurrency</a>
</div>
</main>
</div>
</div>
<script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>
<footer class="footer mt-5 mt-md-0">
<div class="container">
<div class="footer-item">
<p class="copyright">
    © Copyright 2019-2021 Panel contributors.<br/>
</p>
</div>
<div class="footer-item">
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.5.3.<br/>
</p>
</div>
</div>
</footer>
</body>
</html>